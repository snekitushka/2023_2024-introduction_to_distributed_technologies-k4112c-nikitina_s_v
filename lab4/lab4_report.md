University: [ITMO University](https://itmo.ru/ru/)  
Faculty: [FICT](https://fict.itmo.ru)  
Course: [Introduction to distributed technologies](https://github.com/itmo-ict-faculty/introduction-to-distributed-technologies)  
Year: 2023/2024  
Group: K4112c  
Author: Nikitina Snezhana Vladimirovna  
Lab: Lab1  
Date of create: 30.11.2023  
Date of finished: 30.11.2023  

## Лабораторная работа №4 "Сети связи в Minikube, CNI и CoreDNS"
### Описание
Это последняя лабораторная работа в которой вы познакомитесь с сетями связи в Minikube. Особенность Kubernetes заключается в том, что у него одновременно работают underlay и overlay сети, а управление может быть организованно различными CNI.
### Цель работы
Познакомиться с CNI Calico и функцией IPAM Plugin, изучить особенности работы CNI и CoreDNS.
### Ход работы:.
#### 1. Установка плагина и режима работы
- Установлен плагин CNI=calico и режим работы Multi-Node Clusters одновеременно. (в рамках данной лабораторной работы вам нужно развернуть 2 ноды.)

- Проведена проверка работы CNI плагина Calico и количество нод, результаты проверки приложите в отчет.

Для проверки работы Calico мы попробуем одну из функций под названием IPAM Plugin.

Для проверки режима IPAM необходимо для запущеных ранее нод указать label по признаку стойки или географического расположения (на ваш выбор).

//Оригинальная инструкция для назначения IP адресов в Calico ссылка

#### 2. Создание манифеста для Calico
- Разработан манифест для Calico который бы на основе ранее указанных меток назначал бы IP адреса "подам" исходя из пулов IP адресов которые указаны в манифесте.

#### 3. Создание deployment с 2 репликами контейнера
- Запустить в minikube режим проброса портов и подключитесь к вашим контейнерам через веб браузер.
- Создан deployment с 2 репликами контейнера ifilyaninitmo/itdt-contained-frontend:master и переданы переменные в эти реплики: REACT_APP_USERNAME, REACT_APP_COMPANY_NAME.

#### 4. Создание сервиса
- Создан сервис через который будет доступ на эти "поды".
- 
#### 5. Вход в веб браузер
- Запустить в minikube режим проброса портов и подключитесь к вашим контейнерам через веб браузер.

- Проверьте на странице в веб браузере переменные Container name и Container IP. Изменяются ли они? Если да то почему?

#### 6. Пинг "подов"
-Используя kubectl exec зайдите в любой "под" и попробуйте попинговать "поды" используя FQDN имя соседенего "пода", результаты пингов необходимо приложить к отчету.

### Схема организации контейнеров и сервисов:
ФОТО
